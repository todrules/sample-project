<ion-header>
  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Train Network</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <div style="border-top: 1px solid rgba(224,224,224,1);" padding>
    <ion-grid>
      <ion-row>
        <ion-col>
          <h4>Train Network</h4>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-list style="max-width: 250px;">
            <ion-item>
              <ion-label color="primary" stacked>Iterations</ion-label>
              <ion-input type="number" #iterations value="1000"></ion-input>
            </ion-item>

            <ion-item>
              <ion-label color="primary" stacked>Target Loss</ion-label>
              <ion-input type="number" #targetloss value="0.03"></ion-input>
            </ion-item>

            <ion-item>
              <ion-label color="primary" stacked>Learning Rate</ion-label>
              <ion-input type="number" #learningrate value="0.7"></ion-input>
            </ion-item>

            <ion-item>
              <ion-label color="primary" stacked>Gamma</ion-label>
              <ion-input type="number" #gamma value="0.0002"></ion-input>
            </ion-item>

            <ion-item>
              <ion-label color="primary" stacked>Power</ion-label>
              <ion-input type="number" #power value="1.5"></ion-input>
            </ion-item>
          </ion-list>
          <button ion-button padding color="primary" disabled (click)="train(iterations.value, targetloss.value, learningrate.value, gamma.value, power.value)">Train
          </button>
          <button ion-button padding color="secondary" disabled (click)="test()">Test</button>
        </ion-col>
        <ion-col>
          <ion-card style="background-color: #e1e1e1; border-radius: 4px; border-bottom: 10px solid #f15d24; width: 140px; height: 100px; padding: 14px; box-shadow: 1px 1px 1px 0 rgba(0,0,0,0.3);">
            <h4 style="color: #433E3F; margin: 4px;">ITERATION</h4>
            <h1 style="color: #433E3F; font-size: 48px; margin-top: 10px;">{{ iter | number: '.0' }}</h1>

          </ion-card>
          <ion-card style="background-color: #e1e1e1; border-radius: 4px; border-bottom: 10px solid #f15d24; width: 140px; height: 100px; padding: 14px; box-shadow: 1px 1px 1px 0 rgba(0,0,0,0.3);">
            <h4 style="color: #433E3F; margin: 4px;">LOSS</h4>
            <h1 style="color: #433E3F; font-size: 32px; margin-top: 10px;">{{ loss | number: '1.2-6' }}</h1>

          </ion-card>
          <ion-card style="background-color: #e1e1e1; border-radius: 4px; border-bottom: 10px solid #f15d24; width: 140px; height: 100px; padding: 14px; box-shadow: 1px 1px 1px 0 rgba(0,0,0,0.3);">
            <h4 style="color: #433E3F; margin: 4px;">LEARNING RATE</h4>
            <h1 style="color: #433E3F; font-size: 32px; margin-top: 10px;">{{ lr | number: '1.2-6' }}</h1>

          </ion-card>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ngx-charts-line-chart [view]="view" [scheme]="colorScheme" [results]="stats" [gradient]="gradient" [xAxis]="showXAxis"
            [yAxis]="showYAxis" [legend]="showLegend" [showXAxisLabel]="showXAxisLabel" [showYAxisLabel]="showYAxisLabel"
            [xAxisLabel]="xAxisLabel" [yAxisLabel]="yAxisLabel" [autoScale]="autoScale" (select)="onSelect($event)">

          </ngx-charts-line-chart>

        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
